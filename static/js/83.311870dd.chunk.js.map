{"version":3,"file":"static/js/83.311870dd.chunk.js","mappings":"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","sources":["components/LoadMore/LoadMore.styled.jsx","components/LoadMore/LoadMore.jsx","components/MovieItem/MovieItem.styled.jsx","components/MovieItem/MovieItem.jsx","components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.jsx","fakeApi.jsx","components/SearchBox/SearchBox.styled.jsx","components/SearchBox/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  display: block;\n  padding: 8px 16px;\n  border: none;\n  background-color: #fd8b08ed;\n  outline: none;\n  color: white;\n  cursor: pointer;\n  font-weight: 500;\n  margin: 0px auto;\n  margin-bottom: 40px;\n`\n","import { useContext } from \"react\"\nimport { PageContext } from \"shared/PageContext/PageContext\";\nimport { Button } from \"./LoadMore.styled\";\n\n\nexport default function LoadMore() {\n  const { setPage } = useContext(PageContext);\n\n  function onLoadMore() {\n    setPage(page => page + 1);\n  }\n\n  return (\n    <Button type=\"button\" onClick={onLoadMore}>Load More</Button>\n  )\n}\n","import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport const ListItem = styled.li`\n  padding: 0px;\n  margin: 0px;\n  list-style: none;\n`\nexport const LinkItem = styled(Link)`\n  text-decoration: none;\n  color: black;\n\n  &:hover,&:focus {\n    color: #fd8b08ed;\n  }\n`\nexport const Title = styled.h3`\n  align-items: center;\n`\n","import { useLocation } from \"react-router-dom\"\nimport PropTypes from 'prop-types';\nimport { LinkItem, ListItem, Title } from \"./MovieItem.styled\";\n\n\nexport default function MovieItem({ id, original_title }) {\n  const location = useLocation();\n\n  return (\n    <ListItem>\n      <LinkItem to={`/movies/${id}`} state={{ from: location }}>\n        <Title>{original_title}</Title>\n      </LinkItem>\n    </ListItem>\n  )\n}\n\nMovieItem.propTypes = PropTypes.arrayOf(\n  PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title:PropTypes.string.isRequired,\n  })\n).isRequired;\n","import styled from \"styled-components\";\n\nexport const List = styled.ul`\n  padding: 0px;\n  margin: 0px;\n  text-align: center;\n`\n","// import { Link, useLocation } from \"react-router-dom\"\nimport PropTypes from 'prop-types';\n\nimport MovieItem from \"components/MovieItem/MovieItem\"\nimport { List } from './MovieList.styled';\n\n\nexport default function MovieList({ movies }) {\n\n  return (\n    <>\n      <List>\n      {movies.map(movie => {\n        return <MovieItem key={movie.id} {...movie} />\n      })}\n      </List>\n    </>\n  )\n}\n\nMovieList.propTypes = PropTypes.arrayOf(\n  PropTypes.shape({\n      movies:PropTypes.string.isRequired,\n  })\n).isRequired;\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3\"\nconst TREND = \"trending/movie/week\"\nconst SEARCH = \"search/movie\"\nconst API_KEY = \"cb5d99917b11063d4e60e6f353e2f3b8\"\n\nexport async function fetchTrendMovies(page) {\n  const result = await axios.get(\n    `${BASE_URL}/${TREND}?api_key=${API_KEY}&page=${page}`\n  )\n  return result.data;\n}\n\nexport async function searchMovies(query,page) {\n  const result = await axios.get(\n    `${BASE_URL}/${SEARCH}?api_key=${API_KEY}&query=${query}&page=${page}`\n  )\n  return result.data;\n}\n\nexport async function getMovieDetails(id) {\n  const result = await axios.get(\n    `${BASE_URL}/movie/${id}?api_key=${API_KEY}`\n  )\n  return result.data\n}\n\nexport async function castActorsFilm(id) {\n  try {\n    const result = await axios.get(\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`\n  )\n  return result.data;\n  } catch (error) {\n    console.log(error.message)\n  }\n\n}\n\nexport async function reviewsFilm(id) {\n  try {\n    const result = await axios.get(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`\n    )\n    return result.data;\n  } catch (error) {\n    console.log(error.message)\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Form = styled.form`\n  align-items: center;\n  text-align: center;\n`\n\nexport const Wrapper = styled.div`\n  display: block;\n`\nexport const Button = styled.button`\n  position: absolute;\n  align-items: center;\n  outline: none;\n  height: 34px;\n  width: 40px;\n  justify-content: center;\n  border: 1px solid black;\n  border-top-right-radius: 7px;\n  border-bottom-right-radius: 7px;\n  background-color: white;\n  border: 1px solid black;\n  cursor: pointer;\n  :hover {\n    background-color: #fd8b08ed;\n    color: white;\n  }\n`\nexport const Input = styled.input`\n  width: 300px;\n  height: 20px;\n  padding: 6px;\n  outline: none;\n  border: 1px solid black;\n  border-top-left-radius: 7px;\n  border-bottom-left-radius: 7px;\n`\n","import PropTypes from 'prop-types';\n// import { Field, Formik } from \"formik\";\n// import { Form } from \"formik\";\nimport { useState } from \"react\";\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { toast } from \"react-toastify\";\nimport { Button, Form, Input } from './SearchBox.styled';\n\nexport default function SearchBox({ submit }) {\n  const [movieName, setMovieName] = useState('');\n\n  function handleChange(e) {\n    setMovieName(e.target.value.toLowerCase());\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (movieName.trim() === '') {\n      return toast.info(\"Fill this field\");\n    }\n\n    submit({ movieName });\n    reset();\n  }\n\n  function reset() {\n    setMovieName('');\n  }\n\n  return (\n      <Form\n        onSubmit={handleSubmit}\n      >\n        <div>\n          <Input\n            name=\"movieName\"\n            value={movieName}\n            type=\"text\"\n            autoComplete=\"off\"\n            onChange={handleChange}\n            // autoFocus\n            placeholder=\"Search movie\"\n        />\n        <Button type=\"submit\">\n            <AiOutlineSearch size='20'/>\n        </Button>\n        </div>\n      </Form>\n  );\n};\n\nSearchBox.propTypes = {\n    submit: PropTypes.func.isRequired,\n};\n","import MovieList from \"components/MovieList/MovieList\";\nimport SearchBox from \"components/SearchBox/SearchBox\";\nimport { useState, useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { searchMovies } from 'fakeApi';\nimport Loader from 'shared/Loader/Loader';\nimport { Notify } from 'notiflix';\nimport LoadMore from 'components/LoadMore/LoadMore';\nimport { useContext } from 'react';\nimport { PageContext } from 'shared/PageContext/PageContext';\n\n\nexport default function Movies() {\n  const [movies, setMovies] = useState([]);\n  const { page } = useContext(PageContext);\n  const [totalPages, setTotalPages] = useState(null);\n  const [loading, setLoading] = useState(false)\n  const [searchParams, setSearchParams] = useSearchParams();\n  const nameMovie = searchParams.get(\"name_film\") ?? \"\";\n\n  useEffect(() => {\n    async function getMoviesByQuery() {\n      setLoading(true);\n      try {\n        const data = await searchMovies(nameMovie,page);\n        if (data.total_results === 0) {\n          return Notify.failure('No such films');\n        }\n        setMovies(prev => [...prev, ...data.results]);\n        const totalPages = Math.ceil(data.total_results / 20);\n        setTotalPages(totalPages);\n        if (page >= totalPages) {\n          Notify.warning(\n            \"We're sorry, but you've reached the end of search results.\"\n          )\n        }\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (nameMovie) {\n      getMoviesByQuery();\n    }\n  }, [nameMovie,page])\n\n\n  function handleSubmit({ movieName }) {\n    setMovies([]);\n    setSearchParams({ name_film: movieName });\n  };\n\n  const isFilms = movies?.length !== 0;\n  const endList = page < totalPages;\n\n\n  return (\n    <>\n      <SearchBox submit={handleSubmit} />\n      {movies && <MovieList movies={movies} />}\n      {loading ? <Loader/> : endList && isFilms && <LoadMore/>}\n    </>\n  )\n}\n"],"names":["Button","styled","LoadMore","setPage","useContext","PageContext","type","onClick","page","ListItem","LinkItem","Link","Title","MovieItem","id","original_title","location","useLocation","to","state","from","List","MovieList","movies","map","movie","BASE_URL","TREND","SEARCH","API_KEY","fetchTrendMovies","axios","result","data","searchMovies","query","getMovieDetails","castActorsFilm","console","log","message","reviewsFilm","Form","Input","SearchBox","submit","useState","movieName","setMovieName","onSubmit","e","preventDefault","trim","toast","name","value","autoComplete","onChange","target","toLowerCase","placeholder","size","Movies","setMovies","totalPages","setTotalPages","loading","setLoading","useSearchParams","searchParams","setSearchParams","nameMovie","get","useEffect","total_results","Notify","prev","results","Math","ceil","getMoviesByQuery","isFilms","length","endList","name_film","Loader"],"sourceRoot":""}